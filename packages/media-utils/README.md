# `@mexp/media-utils`

A set of media-related helper utilities.

## API Reference

<!-- START TOKEN(Autogenerated API docs) -->

### blobToFile

Wraps a Blob instance in a File instance.

_Parameters_

-   _blob_ `Blob`: Blob instance.
-   _filename_ `string`: File name.
-   _type_ `string`: Mime type.

_Returns_

-   `File`: File object.

### bufferToBlob

Creates a Blob from a given ArrayBuffer.

_Parameters_

-   _buffer_ `ArrayBuffer`: ArrayBuffer instance.
-   _width_ `number`: Desired width.
-   _height_ `number`: Desired height.
-   _type_ `'image/jpeg' | 'image/png' | 'image/webp'`: Desired mime type.
-   _quality_ Desired image quality.

### cloneFile

Clones a given file object.

_Parameters_

-   _file_ `File`: File object.

_Returns_

-   `File`: New file object.

### getCanvasBlob

Returns a Blob object from a canvas element.

Simple, promise-ified version of `HTMLCanvasElement.toBlob()`.

_Related_

-   <https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob>

_Parameters_

-   _canvas_ `HTMLCanvasElement`: Canvas element
-   _type_ Desired image format.
-   _quality_ Desired image quality.

### getExtensionFromMimeType

Returns the file extension for a given mime type.

_Usage_

```js
import { getExtensionFromMimeType } from '@mexp/media-utils';

getExtensionFromMimeType( 'image/jpeg' ) // Returns '.jpeg'
getExtensionFromMimeType( 'video/mp4' ) // Returns '.mp4'
getExtensionFromMimeType( 'audio/mp3' ) // Returns '.mp3'
getExtensionFromMimeType( 'application/pdf' ) // Returns '.pdf'
```

_Parameters_

-   _mimeType_ `string`: Mime type.

_Returns_

-   `string | null`: File extension or null if it could not be found.

### getFileBasename

Returns file basename without extension.

For example, turns "my-awesome-file.jpeg" into "my-awesome-file".

_Parameters_

-   _name_ `string`: File name.

_Returns_

-   `string`: File basename.

### getFileExtension

Returns the file extension from a given file name or URL.

_Parameters_

-   _file_ `string`: File URL.

_Returns_

-   `string | null`: File extension or null if it does not have one.

### getMediaTypeFromMimeType

Returns the media type from a given mime type.

_Usage_

```js
import { getMediaTypeFromMimeType } from '@mexp/media-utils';

getMediaTypeFromMimeType( 'image/jpeg' ) // Returns 'image'
getMediaTypeFromMimeType( 'video/mpeg' ) // Returns 'video'
getMediaTypeFromMimeType( 'audio/mpeg' ) // Returns 'audio'
getMediaTypeFromMimeType( 'application/pdf' ) // Returns 'pdf'
```

_Parameters_

-   _mimeType_ `string`: Mime type.

_Returns_

-   `string`: Media type.

### getMimeTypeFromExtension

Get the mime type for a given file extension.

_Usage_

```js
import { getMimeTypeFromExtension } from '@mexp/media-utils';

getMimeTypeFromExtension( '.jpeg' ) // Returns 'image/jpeg'
getMimeTypeFromExtension( '.mp4' ) // Returns 'video/mp4'
getMimeTypeFromExtension( '.mp3' ) // Returns 'video/mp3'
getMimeTypeFromExtension( '.pdf' ) // Returns 'application/pdf'
```

_Parameters_

-   _ext_ `string`: File extension.

_Returns_

-   `string | null`: Mime type or null if it could not be found.

### ImageFile

ImageFile class.

Small wrapper around the `File` class to hold information about current dimensions and original dimensions, in case the image was resized.

_Type_

-   `ImageFile`

### preloadImage

Preloads a given image using the `Image()` constructor.

Useful for further processing of the image, like saving it or extracting its dominant color.

_Related_

-   <https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/Image>

_Parameters_

-   _src_ `string`: Image URL.
-   _width_ `number`: Desired width.
-   _height_ `number`: Desired height.

### renameFile

Renames a given file and returns a new file.

Copies over the last modified time.

_Parameters_

-   _file_ `File`: File object.
-   _name_ `string`: File name.

_Returns_

-   `File`: Renamed file object.


<!-- END TOKEN(Autogenerated API docs) -->
